<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Biblioteca por Estantes</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f2f2f2;
      margin: 0;
    }

    header {
      background-color: #3b5998;
      color: white;
      text-align: center;
      padding: 2rem;
    }

    h1 {
      margin: 0;
      font-size: 2.5rem;
    }

    .formulario {
      background: white;
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .formulario input, .formulario select {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .formulario button {
      background-color: #3b5998;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
    }

    .estante {
      margin: 20px auto;
      max-width: 1200px;
      padding: 0 20px;
    }

    .estante h2 {
      background-color: #3b5998;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
    }

    .contenedor-libros {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 10px;
      display: none;
    }

    .libro {
      background-color: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      transition: 0.3s;
    }

    .libro:hover {
      transform: translateY(-5px);
    }

    .titulo {
      font-weight: bold;
      font-size: 1.2rem;
    }

    .autor {
      font-style: italic;
      color: #555;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table, th, td {
      border: 1px solid #ccc;
    }

    th, td {
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #3b5998;
      color: white;
    }

    tbody tr:nth-child(odd) {
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>

  <header>
    <h1>游닄 Mi Biblioteca por Estantes</h1>
  </header>

  <section class="formulario">
    <h3>Agregar nuevo libro</h3>
    <input type="text" id="titulo" placeholder="T칤tulo del libro">
    <input type="text" id="autor" placeholder="Autor">
    <select id="estante">
      <option value="realismo">Realismo M치gico</option>
      <option value="clasicos">Cl치sicos</option>
      <option value="infantil">Infantil</option>
      <option value="distopia">Distop칤a</option>
    </select>
    <button onclick="agregarLibro()">Agregar</button>
  </section>

  <!-- Estantes -->
  <section id="realismo" class="estante">
    <h2 onclick="toggleEstante('realismo')">游닀 Realismo M치gico</h2>
    <div class="contenedor-libros"></div>
  </section>

  <section id="clasicos" class="estante">
    <h2 onclick="toggleEstante('clasicos')">游닂 Cl치sicos</h2>
    <div class="contenedor-libros"></div>
  </section>

  <section id="infantil" class="estante">
    <h2 onclick="toggleEstante('infantil')">游빚 Infantil</h2>
    <div class="contenedor-libros"></div>
  </section>

  <section id="distopia" class="estante">
    <h2 onclick="toggleEstante('distopia')">游댩 Distop칤a</h2>
    <div class="contenedor-libros"></div>
  </section>

  <!-- Tabla resumen -->
  <section class="estante" style="max-width: 1000px;">
    <h2>游늶 Libros en Tabla</h2>
    <table id="tablaLibros">
      <thead>
        <tr>
          <th>T칤tulo</th>
          <th>Autor</th>
          <th>Estante</th>
          <th>Fecha de ingreso</th>
        </tr>
      </thead>
      <tbody>
        <!-- Filas din치micas -->
      </tbody>
    </table>
  </section>

  <script>
    let libros = JSON.parse(localStorage.getItem("libros")) || [];

    function agregarLibro() {
      const titulo = document.getElementById("titulo").value.trim();
      const autor = document.getElementById("autor").value.trim();
      const estante = document.getElementById("estante").value;

      if (titulo === "" || autor === "") {
        alert("Por favor, completa todos los campos.");
        return;
      }

      const nuevoLibro = {
        titulo,
        autor,
        estante,
        fecha: new Date().toLocaleString()
      };

      libros.push(nuevoLibro);
      localStorage.setItem("libros", JSON.stringify(libros));

      mostrarLibro(nuevoLibro);
      agregarFilaTabla(nuevoLibro);
      limpiarFormulario();
    }

    function mostrarLibro(libro) {
      const contenedor = document.querySelector(`#${libro.estante} .contenedor-libros`);
      const div = document.createElement("div");
      div.className = "libro";
      div.innerHTML = `
        <div class="titulo">${libro.titulo}</div>
        <div class="autor">${libro.autor}</div>
      `;
      contenedor.appendChild(div);
    }

    function agregarFilaTabla(libro) {
      const fila = document.createElement("tr");
      fila.innerHTML = `
        <td>${libro.titulo}</td>
        <td>${libro.autor}</td>
        <td>${libro.estante}</td>
        <td>${libro.fecha}</td>
      `;
      document.querySelector("#tablaLibros tbody").appendChild(fila);
    }

    function limpiarFormulario() {
      document.getElementById("titulo").value = "";
      document.getElementById("autor").value = "";
      document.getElementById("estante").value = "realismo";
    }

    function toggleEstante(estanteId) {
      const contenedor = document.querySelector(`#${estanteId} .contenedor-libros`);
      contenedor.style.display = (contenedor.style.display === "grid") ? "none" : "grid";
    }

    function cargarLibros() {
      libros.forEach(libro => {
        mostrarLibro(libro);
        agregarFilaTabla(libro);
      });
    }

    window.onload = cargarLibros;
  </script>

</body>
</html>
